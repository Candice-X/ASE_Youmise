{"remainingRequest":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js!/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/vue-loader/lib/selector.js?type=script&index=0!/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/src/components/Login.vue","dependencies":[{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/src/components/Login.vue","mtime":1521570804000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/package.json","mtime":1521570804000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/cache-loader/dist/cjs.js","mtime":1521602987000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js","mtime":1519636541000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/vue-loader/lib/selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/@babel/runtime/helpers/asyncToGenerator\";\nimport _objectSpread from \"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/@babel/runtime/helpers/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Navbar from './Navbar';\nimport { mapState, mapActions } from \"vuex\";\nimport { required, email, minLength, sameAs } from 'vuelidate/lib/validators';\nexport default {\n  name: \"login\",\n  data: function data() {\n    return {\n      userData: {\n        username: '',\n        password: ''\n      },\n      error: ''\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    loading: function loading(state) {\n      return state.user.loading;\n    }\n  })),\n  components: {\n    Navbar: Navbar\n  },\n  created: function created() {\n    this.$store.state.user.isLogin = false;\n    this.$store.dispatch(\"tryAutoLogin\", this.$router);\n  },\n  validations: {\n    userData: {\n      username: {\n        required: required\n      },\n      password: {\n        required: required\n      }\n    }\n  },\n  methods: _objectSpread({}, mapActions(['login']), {\n    handleLogin: function () {\n      var _handleLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.login(this.userData);\n\n              case 3:\n                result = _context.sent;\n                console.log(\"result :\", result);\n\n                if (result === 1) {\n                  this.$router.push(\"/dashboard\");\n                  console.log('login success !');\n                } else if (result === 2) {\n                  // this.$message({ message: \"You need to set a new password\" });\n                  console.log(\"You have to set a new password !\");\n                  this.$router.push(\"/dashboard\");\n                }\n\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.error = _context.t0.message;\n                console.log(\"error :\", _context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      return function handleLogin() {\n        return _handleLogin.apply(this, arguments);\n      };\n    }()\n  })\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AAEA;QAEA;wBACA;;;kBAGA;kBACA,AACA;AAHA;aAIA,AACA;AANA;AAOA;AACA;;wBAEA,AACA,AACA;;AAHA;;AAKA,AACA;AAFA;8BAGA;qCACA;8CACA;AACA;;;;AAIA,AACA;AAFA;;AAIA,AACA,AACA,AACA;AAJA;AAJA;AADA;AAUA,yCACA;AACA,AACA;;;;;;;;;;;uCACA;;;;wCACA;;kCACA;oCACA;8BACA;yCACA;AACA;8BACA;oCACA;AACA,AACA;;;;;;;;yCACA;4BACA,AACA,AAEA,AACA;;;;;;;;;;;;;;;AArDA","sourceRoot":"src/components","sourcesContent":["<template>\n<body class=\"bg\">\n  <Navbar ></Navbar>\n  <div class=\"form-signin\">\n      <div class=\"text-center mb-4\">\n        <img class=\"mb-4\" src=\"../assets/img/Logo.png\" alt=\"\" height=\"72\" width=\"72\">\n        <h1 class=\"h3 mb-3 font-weight-normal\" style=\"color:#fff;\">Umise- Login</h1>\n       </div>\n\n      <div class=\"form-label-group\">\n        <input id=\"inputEmail\" class=\"form-control\" :class=\"{ invalid: $v.userData.username.$error }\" placeholder=\"User Name\"\n         autofocus=\"\" @blur=\"$v.userData.username\" v-model=\"userData.username\">\n        <label for=\"inputEmail\">User Name</label>\n      </div>\n\n      <div class=\"form-label-group\">\n        <input id=\"inputPassword\" class=\"form-control\" :class=\"{ invalid: $v.userData.password.$error }\"  placeholder=\"Password\"\n         type=\"password\" @blur=\"$v.userData.password\" v-model=\"userData.password\">\n        <label for=\"inputPassword\">Password</label>\n      </div>\n\n      <div class=\"checkbox mb-3\">\n        <label>\n          {{ error }}\n        </label>\n      </div>\n      <button class=\"btn btn-lg btn-success btn-block\" @click = \"handleLogin\" @keyup.enter =\"handleLogin\" >Sign in</button>\n      <!-- <p class=\"mt-5 mb-3 text-muted text-center\">Don't have a account,<router-link to=\"/signup\"> Sign up</router-link></p> -->\n    </div>\n</body>\n</template>\n\n<script>\nimport Navbar from './Navbar';\nimport { mapState, mapActions } from \"vuex\";\nimport { required, email, minLength, sameAs } from 'vuelidate/lib/validators';\n\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      userData: {\n        username:'',\n        password:'',\n      },\n      error: '',\n    };\n  },\n  computed: {\n    ...mapState({\n      loading: state => state.user.loading\n    })\n  },\n  components: {\n    Navbar,\n  },\n  created: function(){\n     this.$store.state.user.isLogin = false;\n     this.$store.dispatch(\"tryAutoLogin\", this.$router);\n  },\n  validations: {\n    userData: {\n      username: {\n       required,\n      },\n      password: {\n        required,\n      },\n    }\n  },\n  methods: {\n    ...mapActions(['login']),\n    async handleLogin() {\n      try {\n        const result = await this.login(this.userData);\n        console.log(\"result :\",result);\n        if (result === 1) {\n          this.$router.push(\"/dashboard\");\n          console.log('login success !');\n        } else if (result === 2) {\n          // this.$message({ message: \"You need to set a new password\" });\n          console.log(\"You have to set a new password !\");\n          this.$router.push(\"/dashboard\");   \n        }\n      } catch (e) {\n       this.error = e.message;\n       console.log(\"error :\",e);\n      }\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n:root,\nbody {\n  --input-padding-x: 0.75rem;\n  --input-padding-y: 0.75rem;\n}\n\nbody {\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: flex;\n  -ms-flex-align: center;\n  -ms-flex-pack: center;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  background-color: #f5f5f5;\n  width: 100%;\n  height: 100vh;\n  min-height: 775px;\n  padding-top: 0;\n  /* margin-top:-60px; */\n  padding-bottom: 0;\n  background-image: url(\"../assets/img/bg2.jpg\");\n  background-size: cover;\n  color: #eee;\n}\n\nimg {\n  border: 0.3rem solid rgba(255, 255, 255, 0.5);\n  border-radius: 50%;\n}\n.form-signin {\n  width: 100%;\n  max-width: 420px;\n  padding: 15px;\n  margin: 0 auto;\n}\n\n.form-label-group {\n  position: relative;\n  margin-bottom: 1rem;\n}\n\n.form-label-group > input,\n.form-label-group > label {\n  padding: var(--input-padding-y) var(--input-padding-x);\n}\n\n.form-label-group > label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: block;\n  width: 100%;\n  margin-bottom: 0; /* Override default `<label>` margin */\n  line-height: 1.5;\n  color: #495057;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  transition: all 0.1s ease-in-out;\n}\n\n.form-label-group input::-webkit-input-placeholder {\n  color: transparent;\n}\n\n.form-label-group input:-ms-input-placeholder {\n  color: transparent;\n}\n\n.form-label-group input::-ms-input-placeholder {\n  color: transparent;\n}\n\n.form-label-group input::-moz-placeholder {\n  color: transparent;\n}\n\n.form-label-group input::placeholder {\n  color: transparent;\n}\n\n.form-label-group input:not(:placeholder-shown) {\n  padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));\n  padding-bottom: calc(var(--input-padding-y) / 3);\n}\n\n.form-label-group input:not(:placeholder-shown) ~ label {\n  padding-top: calc(var(--input-padding-y) / 3);\n  padding-bottom: calc(var(--input-padding-y) / 3);\n  font-size: 12px;\n  color: #777;\n}\n\n.form-label-group.invalid input {\n  border : 1px solid red;\n  background: #ffc9aa;\n}\n</style>\n"]}]}