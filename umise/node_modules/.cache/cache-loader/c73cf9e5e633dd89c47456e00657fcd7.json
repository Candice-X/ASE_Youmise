{"remainingRequest":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js!/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/eslint-loader/index.js??ref--18-0!/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/src/router/index.js","dependencies":[{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/src/router/index.js","mtime":1521436325000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/package.json","mtime":1521570804000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/cache-loader/dist/cjs.js","mtime":1521602987000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js","mtime":1519636541000},{"path":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/eslint-loader/index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise/node_modules/@babel/runtime/helpers/asyncToGenerator\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport HelloWorld from '@/components/HelloWorld';\nimport Navbar from '@/components/Navbar';\nimport Login from '@/components/Login';\nimport Signup from '@/components/Signup';\nimport Dashboard from '@/components/Dashboard';\nimport Mycard from '@/components/Mycard'; // import DashboardNav from '@/components/DashboardNav';\n\nimport Friends from '@/components/Friends';\nimport About from '@/components/About';\nimport Messages from '@/components/Messages';\nimport FriendsList from '@/components/FriendsList';\nimport store from '../store/store';\nVue.use(Router); // path:\"*\", redirect(/)\n\nvar authToLink = ['/', '/login', '/signup', 'dashboard', '/mycard', '/friends', 'about', 'messages'];\n\nvar loginGuard = function loginGuard(link) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(to, from, next) {\n        var authenticated;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                authenticated = store.state.user.authenticated;\n\n                if (link === '/mycard' || link === '/friends' || link === '/messages') {\n                  if (authenticated !== 1) {\n                    try {\n                      next('/login');\n                    } catch (e) {}\n                  } else {\n                    next();\n                  }\n                } else {\n                  next();\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\n\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: HelloWorld\n  }, {\n    path: '/login',\n    name: 'login',\n    component: Login,\n    beforeEnter: loginGuard('/')\n  }, // {\n  //   path: '/nav',\n  //   name: 'nav',\n  //   component: Navbar,\n  //   beforeEnter: loginGuard('/'),\n  // },\n  {\n    path: '/signup',\n    name: 'signup',\n    component: Signup,\n    beforeEnter: loginGuard('/signup')\n  }, {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: Dashboard,\n    beforeEnter: loginGuard('/dashboard')\n  }, {\n    path: '/mycard',\n    name: 'mycard',\n    component: Mycard,\n    beforeEnter: loginGuard('/mycard')\n  }, {\n    path: '/friends',\n    name: 'friends',\n    component: Friends,\n    beforeEnter: loginGuard('/friends')\n  }, {\n    path: '/about',\n    name: 'about',\n    component: About,\n    beforeEnter: loginGuard('/about')\n  }, {\n    path: '/messages',\n    name: 'messages',\n    component: Messages,\n    beforeEnter: loginGuard('/messages')\n  }, {\n    path: '*',\n    redirect: '/'\n  }]\n});",{"version":3,"sources":["src/router/index.js"],"names":["Vue","Router","HelloWorld","Navbar","Login","Signup","Dashboard","Mycard","Friends","About","Messages","FriendsList","store","use","authToLink","loginGuard","to","from","next","authenticated","state","user","link","e","mode","routes","path","name","component","beforeEnter","redirect"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEAZ,IAAIa,GAAJ,CAAQZ,MAAR,E,CACA;;AAEA,IAAMa,aAAY,CAAC,GAAD,EAAM,QAAN,EAAgB,SAAhB,EAA2B,WAA3B,EAAwC,SAAxC,EAAmD,UAAnD,EAA+D,OAA/D,EAAwE,UAAxE,CAAlB;;AAEA,IAAMC,aAAa,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAQ,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,6BADmB,GACDP,MAAMQ,KAAN,CAAYC,IADX,CACnBF,aADmB;;AAEzB,oBAAGG,SAAQ,SAAR,IAAoBA,SAAQ,UAA5B,IAA0CA,SAAO,WAApD,EAAiE;AAC7D,sBAAGH,kBAAiB,CAApB,EAAsB;AACpB,wBAAI;AACFD,2BAAK,QAAL;AAED,qBAHD,CAGC,OAAMK,CAAN,EAAQ,CAAE;AACZ,mBALD,MAKK;AACHL;AACD;AACJ,iBATD,MASK;AACHA;AACD;;AAbwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;;AAiBA,eAAe,IAAIjB,MAAJ,CAAW;AACxBuB,QAAM,SADkB;AAExBC,UAAQ,CAAC;AACPC,UAAM,GADC;AAEPC,UAAM,YAFC;AAGPC,eAAW1B;AAHJ,GAAD,EAKR;AACEwB,UAAM,QADR;AAEEC,UAAM,OAFR;AAGEC,eAAWxB,KAHb;AAIEyB,iBAAad,WAAW,GAAX;AAJf,GALQ,EAWR;AACA;AACA;AACA;AACA;AACA;AACA;AACEW,UAAM,SADR;AAEEC,UAAM,QAFR;AAGEC,eAAWvB,MAHb;AAIEwB,iBAAad,WAAW,SAAX;AAJf,GAjBQ,EAuBR;AACEW,UAAM,YADR;AAEEC,UAAM,WAFR;AAGEC,eAAWtB,SAHb;AAIEuB,iBAAad,WAAW,YAAX;AAJf,GAvBQ,EA6BR;AACEW,UAAM,SADR;AAEEC,UAAM,QAFR;AAGEC,eAAWrB,MAHb;AAIEsB,iBAAad,WAAW,SAAX;AAJf,GA7BQ,EAmCR;AACEW,UAAM,UADR;AAEEC,UAAM,SAFR;AAGEC,eAAWpB,OAHb;AAIEqB,iBAAad,WAAW,UAAX;AAJf,GAnCQ,EAyCR;AACEW,UAAM,QADR;AAEEC,UAAM,OAFR;AAGEC,eAAWnB,KAHb;AAIEoB,iBAAad,WAAW,QAAX;AAJf,GAzCQ,EA+CR;AACEW,UAAM,WADR;AAEEC,UAAM,UAFR;AAGEC,eAAWlB,QAHb;AAIEmB,iBAAad,WAAW,WAAX;AAJf,GA/CQ,EAqDR;AACEW,UAAM,GADR;AAEEI,cAAU;AAFZ,GArDQ;AAFgB,CAAX,CAAf","sourceRoot":"/Users/Dorothy/dev/umise-3env/ASE_Youmise/umise","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport HelloWorld from '@/components/HelloWorld';\nimport Navbar from '@/components/Navbar';\nimport Login from '@/components/Login';\nimport Signup from '@/components/Signup';\nimport Dashboard from '@/components/Dashboard';\nimport Mycard from '@/components/Mycard';\n// import DashboardNav from '@/components/DashboardNav';\nimport Friends from '@/components/Friends';\nimport About from '@/components/About';\nimport Messages from '@/components/Messages';\nimport FriendsList from '@/components/FriendsList';\nimport store from '../store/store';\n\nVue.use(Router);\n// path:\"*\", redirect(/)\n\nconst authToLink =['/', '/login', '/signup', 'dashboard', '/mycard', '/friends', 'about', 'messages'];\n\nconst loginGuard = link => async (to, from, next ) => {\n  let { authenticated } = store.state.user;\n  if(link ==='/mycard'|| link ==='/friends' || link==='/messages') {\n      if(authenticated !==1){\n        try {\n          next('/login');\n         \n        }catch(e){}\n      }else{\n        next();\n      }\n  }else{\n    next();\n  }\n};\n\n\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: HelloWorld,\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login,\n    beforeEnter: loginGuard('/'),\n  },\n  // {\n  //   path: '/nav',\n  //   name: 'nav',\n  //   component: Navbar,\n  //   beforeEnter: loginGuard('/'),\n  // },\n  {\n    path: '/signup',\n    name: 'signup',\n    component: Signup,\n    beforeEnter: loginGuard('/signup'),\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: Dashboard,\n    beforeEnter: loginGuard('/dashboard'),\n  },\n  {\n    path: '/mycard',\n    name: 'mycard',\n    component: Mycard,\n    beforeEnter: loginGuard('/mycard'),\n  },\n  {\n    path: '/friends',\n    name: 'friends',\n    component: Friends,\n    beforeEnter: loginGuard('/friends'),\n  },\n  {\n    path: '/about',\n    name: 'about',\n    component: About,\n    beforeEnter: loginGuard('/about'),\n  },\n  {\n    path: '/messages',\n    name: 'messages',\n    component: Messages,\n    beforeEnter: loginGuard('/messages'),\n  },\n  {\n    path: '*',\n    redirect: '/',\n  },\n  ],\n});\n"]}]}