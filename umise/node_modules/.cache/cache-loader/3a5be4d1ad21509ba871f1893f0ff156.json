{"remainingRequest":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js!/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/vue-loader/lib/selector.js?type=script&index=0!/Users/kuer/Documents/GitHub/ASE_Youmise/umise/src/components/FriendsList.vue","dependencies":[{"path":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/src/components/FriendsList.vue","mtime":1524427958369},{"path":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/package.json","mtime":1524551041812},{"path":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/babel-loader/lib/index.js","mtime":1519636541000},{"path":"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/vue-loader/lib/selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/kuer/Documents/GitHub/ASE_Youmise/umise/node_modules/@babel/runtime/helpers/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      friend_list: true,\n      friendsList: [],\n      currentFriendId: ''\n    };\n  },\n  methods: {\n    getFriendsList: function () {\n      var _getFriendsList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var userID, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                userID = this.$store.state.user.userID || localStorage.getItem(\"userID\");\n\n                if (!userID) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 5;\n                return axios.get(\"/friend//listFriends/\".concat(userID));\n\n              case 5:\n                response = _context.sent;\n                console.log(response.data);\n                this.$store.state.user.friendList = response.data;\n                this.friendsList = this.$store.state.user.friendList;\n                console.log(\"friendsList :\", this.friendsList);\n                _context.next = 12;\n                break;\n\n              case 12:\n                ;\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.response.data);\n\n              case 18:\n                ;\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 15]]);\n      }));\n\n      return function getFriendsList() {\n        return _getFriendsList.apply(this, arguments);\n      };\n    }(),\n    setCurrentFriend: function setCurrentFriend(friendId) {\n      this.currentFriendId = friendId;\n\n      if (jQuery(window).width() < 992) {\n        this.friend_list = false;\n      }\n\n      ;\n      this.$store.state.user.currentFriendId = friendId;\n      this.$emit('refreshFriendCards');\n    }\n  },\n  mounted: function mounted() {\n    this.getFriendsList();\n  }\n};",{"version":3,"sources":["FriendsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AAEA;wBAEA;;mBAEA;mBACA;uBACA,AACA;AAJA;AAMA;;AAEA,AACA;AAFA;;;;;;;;;+EAGA;;qBACA;;;;;;gEACA;;;;qCACA;6DACA;0DACA;kDACA,AAEA;;;;;AACA,AACA;;;;;;;iDACA;;;AACA,AAEA;;;;;;;;;;;;;;0DACA;6BACA;;wCACA;2BACA;AACA;;;+CACA;iBACA;AAEA,AACA;;8BACA;SACA;AAEA;AAxCA","file":"FriendsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>  \n    <div class=\"friend_btn\">\n      <button class=\"btn btn-primary btn-sm btn-outline-success show_friendlist\" @click=\"friend_list=true\"><span class=\"nav-link js-scroll-trigger\" ><i class=\"icon-people\"></i>Friends</span></button>\n    </div>\n  \n    <div class=\"friends friends_mobi\" v-if=\"friend_list\">\n      <button class=\"btn btn-primary btn-outline-success btn-sm addFriendsBtn\" style=\"width:85%;margin:15px;\" data-toggle=\"modal\" data-target=\"#add_friends\">Add Friend</button>\n      <hr />\n      <div v-for=\"(friend, index) in friendsList\" :key=\"index\" class=\"friend\" :class=\"{friend_active:friend.uid === currentFriendId}\" @click=\"setCurrentFriend(friend.uid)\">\n        <div class=\"friends_img\">\n          <img src=\"../assets/img/girl.png\" />\n        </div>\n        <div class=\"friens_info\">\n          <h4>{{friend.username}} </h4>\n          <div class=\"card_info\">\n            <span class=\"card_send\"><i class=\"icon-present\" ></i> 77 </span>\n            <span class=\"card_send\"><i class =\"icon-action-redo \"></i> 126</span>\n          </div>\n        </div>\n      </div>\n  \n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  \n  export default {\n    data() {\n      return {\n        friend_list: true,\n        friendsList: [],\n        currentFriendId: '',\n      }\n    },\n\n    methods: {\n      async getFriendsList() {\n        try {\n          const userID = this.$store.state.user.userID || localStorage.getItem(\"userID\");\n          if (userID) {\n            const response = await axios.get(`/friend//listFriends/${userID}`);\n            console.log(response.data);\n            this.$store.state.user.friendList = response.data;\n            this.friendsList = this.$store.state.user.friendList;\n            console.log(\"friendsList :\", this.friendsList);\n          } else {\n  \n          };\n        } catch (e) {\n          console.log(e.response.data);\n        };\n      },\n  \n      setCurrentFriend(friendId) {\n        this.currentFriendId = friendId;\n        if (jQuery(window).width() < 992) {\n          this.friend_list = false;\n        }; \n        this.$store.state.user.currentFriendId = friendId;\n        this.$emit('refreshFriendCards');\n      },\n  \n    },\n    mounted() {\n      this.getFriendsList();\n    },\n  \n  };\n</script>\n\n<style>\n  @import '../assets/css/simple-line-icons.css';\n\n  @media (max-width:768px) {\n    .friends_mobi {\n      /* display: none; */\n      width: 100% !important;\n    }\n    .friends {\n      background: rgba(0, 0, 0, 0.9)!important;\n    }\n    .friend_btn {\n      position: fixed !important;\n      bottom: 20px;\n      width: 100%;\n      display: block !important;\n      margin: auto;\n    }\n    .show_friendlist {\n      width: 80%;\n    }\n    .friend {\n      width: 100% !important;\n    }\n    .friends_img {\n      margin-left: 50px !important;\n    }\n    .close_friendList {\n      display: block;\n      position: fixed !important;\n      bottom: 0;\n      height: 40px;\n      background: red;\n    }\n  }\n  \n  .close_friendList {\n    display: none;\n  }\n  \n  .friend_btn {\n    display: none;\n  }\n  \n  .friends {\n    position: fixed;\n    right: 0;\n    top: 0;\n    background: rgba(0, 0, 0, 0.7);\n    height: 100%;\n    width: 240px;\n    color: #fff;\n    padding-top: 10px;\n  }\n  \n  .friend {\n    width: 240px;\n    margin: 0;\n    padding: 0;\n    height: 55px;\n    border-radius: 0px;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(100, 100, 100, 0.3);\n  }\n  \n  .friends_list {\n    margin-left: 10px;\n    margin-top: 30px;\n    font-size: 1em;\n  }\n  \n  .friends hr {\n    border-bottom: 1px solid rgba(23, 23, 23, 0.3);\n    padding: 0;\n    margin: 0;\n  }\n  \n  .friens_info h4 {\n    font-size: 0.9em;\n    margin-top: 5px;\n    margin-left: 5px;\n  }\n  \n  .friend:hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n  \n  .friend:active {\n    background: #3ed188;\n  }\n  \n  .friend_active {\n    background: #35b475;\n  }\n  \n  .friends_list_close {\n    position: absolute;\n    right: 10px;\n    cursor: pointer;\n  }\n  \n  .friends_list_close:hover {\n    color: rgb(253, 115, 115);\n    font-size: 1.1em;\n  }\n  \n  .friends_img {\n    width: 50px;\n    height: 50px;\n    display: block;\n    position: relative;\n    top: 0;\n    margin: 0px;\n    padding: 0;\n    float: left;\n    margin-left: 8px;\n  }\n  \n  .card_info {\n    font-size: 0.7em;\n    color: #dcdcdc;\n    cursor: pointer;\n  }\n  \n  .card_info span {\n    margin: 0;\n    padding: 0;\n    margin-left: 5px;\n    padding-right: 15px;\n  }\n  \n  .friends_img img {\n    width: 40px;\n    height: 40px;\n    margin: 5px;\n  }\n  \n  .friens_info {\n    display: block;\n    float: left;\n    height: 100%;\n    width: 165px;\n    text-align: left;\n  }\n  \n  @media (max-width: 991px) {\n    .addFriendsBtn {\n      margin-top: 55px !important;\n    }\n    .friend {\n      padding: 10px 0 10px 0;\n      height: 70px;\n    }\n  }\n</style>"]}]}